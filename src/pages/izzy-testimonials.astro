---
import Layout from '~/layouts/Layout.astro';
import '~/styles/testimonials.css';

import { testimonials } from '~/data/testimonials';

const metadata = {
  title: 'Izzy Testimonials',
  description: 'Masonry-style client testimonials for Izzy with star ratings and profile photos.',
};

const izzyTestimonials = testimonials.filter((item) => item.category === 'izzy');
---

<Layout metadata={metadata}>
  <section class="bg-white py-16 dark:bg-slate-950">
    <div class="container mx-auto max-w-6xl px-6">
      <div class="max-w-3xl">
        <p class="text-sm font-semibold uppercase tracking-[0.2em] text-primary">Izzy Testimonials</p>
        <h1 class="mt-4 text-4xl font-semibold text-slate-900 dark:text-white md:text-5xl">
          Client stories that spotlight Izzy’s impact
        </h1>
        <p class="mt-4 text-lg text-slate-600 dark:text-slate-300">
          A curated wall of feedback from founders, leaders, and teams who partnered with Izzy for strategy, messaging,
          and launch support.
        </p>
      </div>
    </div>
  </section>

  <section class="bg-slate-50 py-16 dark:bg-slate-900">
    <div class="container mx-auto max-w-6xl px-6">
      <div class="testimonial-masonry">
        {izzyTestimonials.map((item) => (
          <article class="testimonial-masonry-item testimonial-card testimonial-card-minimal">
            <div class="testimonial-rating testimonial-rating-show testimonial-stars testimonial-stars-lg mb-4" data-rating={item.rating}>
              {Array.from({ length: 5 }).map((_, index) => (
                <svg
                  class={`testimonial-star ${index < item.rating ? 'text-yellow-400 fill-current' : 'testimonial-star-empty'}`}
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                >
                  <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
                </svg>
              ))}
              <span class="sr-only">{item.rating} out of 5 stars</span>
            </div>

            <p class="testimonial-content text-slate-800 dark:text-slate-200">“{item.testimonial}”</p>

            <div class="mt-6 flex items-center gap-4">
              <div class="testimonial-avatar testimonial-avatar-show testimonial-avatar-md overflow-hidden rounded-full">
                <img class="h-full w-full object-cover" src={item.image.src} alt={item.image.alt} loading="lazy" />
              </div>
              <div class="testimonial-author">
                <p class="text-base font-semibold text-slate-900 dark:text-white">{item.name}</p>
                <p class="text-sm text-slate-500 dark:text-slate-400">{item.job}</p>
              </div>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>
</Layout>
