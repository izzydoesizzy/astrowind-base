---
/**
 * TESTIMONIALS HUB PAGE - USAGE & CUSTOMIZATION GUIDE
 * 
 * This page showcases 9 different testimonial layout styles, each with interactive
 * avatar display toggles. Use this page as a reference to choose your preferred style.
 * 
 * HOW TO USE THIS PAGE:
 * 1. Browse through the 9 different testimonial styles below
 * 2. Use the toggle buttons above each section to see how avatars look with:
 *    - Photo: Actual profile pictures
 *    - None: No avatars (text-only)
 *    - Placeholder: Gradient placeholder boxes
 *    - Icon: User icon SVG
 *    - Initials: First and last name initials (e.g., "RP" for "Riya Patel")
 * 3. Choose your favorite style and copy the HTML structure to your own page
 * 
 * HOW TO CUSTOMIZE:
 * 
 * 1. ADDING YOUR OWN TESTIMONIALS:
 *    - Edit the `allTestimonials` array below
 *    - Each testimonial needs: testimonial (text), name, job, and image (with src and alt)
 *    - Example structure:
 *      {
 *        testimonial: 'Your testimonial text here...',
 *        name: 'John Doe',
 *        job: 'CEO, Company Name',
 *        image: {
 *          src: 'path/to/image.jpg',
 *          alt: 'Portrait of John Doe.',
 *        },
 *      }
 * 
 * 2. CUSTOMIZING TESTIMONIAL DATA:
 *    - `allTestimonials`: Used for most styles (standard length testimonials)
 *    - `masonryTestimonials`: Used for Style 4 (masonry layout) - includes varied lengths
 *    - `longTestimonials`: Used for Style 9 (long form) - detailed, story-driven testimonials
 * 
 * 3. MODIFYING STYLES:
 *    - Each section (style-1 through style-9) is independent
 *    - You can copy any section's HTML structure to your own page
 *    - Adjust Tailwind CSS classes to match your brand colors
 *    - The toggle functionality will work automatically if you include the JavaScript
 * 
 * 4. AVATAR TOGGLE FUNCTIONALITY:
 *    - The toggle buttons work by finding elements with class `.testimonial-avatar`
 *    - Make sure your avatar containers have: `class="testimonial-avatar"`
 *    - Add data attributes to testimonial cards: `data-name`, `data-image-src`, `data-image-alt`
 *    - The JavaScript will automatically handle switching between the 5 display modes
 * 
 * 5. REMOVING STYLES YOU DON'T NEED:
 *    - Simply delete the entire `<section id="style-X">` block for styles you don't want
 *    - Update the navigation index at the top to remove links to deleted styles
 * 
 * 6. CUSTOMIZING COLORS:
 *    - Replace `primary` with your brand color class
 *    - Update `slate-` colors to match your design system
 *    - Avatar placeholder colors are in the `updateAvatarDisplay` function
 * 
 * 7. LONG TESTIMONIALS WITH EXPAND/COLLAPSE:
 *    - Style 9 includes expand/collapse functionality
 *    - Testimonials over 300 characters are automatically truncated
 *    - Users can click "Read More" to expand
 *    - To adjust the truncation length, change `300` in the testimonial text rendering
 */

// @ts-ignore - Astro components are resolved by the Astro compiler
import Layout from '~/layouts/PageLayout.astro';

// @ts-ignore - Astro components are resolved by the Astro compiler
import HeroText from '~/components/widgets/HeroText.astro';
// @ts-ignore - Astro components are resolved by the Astro compiler
import Testimonials from '~/components/widgets/Testimonials.astro';

const metadata = {
  title: 'Testimonials Wall - Style Showcase',
};

/**
 * STANDARD TESTIMONIALS DATA
 * 
 * This array contains testimonials used in most styles (1, 2, 3, 5, 6, 7, 8).
 * Each testimonial should have:
 * - testimonial: The quote text
 * - name: Person's full name
 * - job: Their title/company
 * - image: Object with src (image URL) and alt (accessibility text)
 * 
 * To add your own testimonials, simply add new objects to this array.
 */
// @ts-ignore - TypeScript inference works correctly at runtime
const allTestimonials = [
  {
    testimonial:
      'Onboarding dropped from 21 days to 6, and our activation rate jumped by 28%. The templates made it easy to redesign our entire product tour.',
    name: 'Riya Patel',
    job: 'VP Product, Flowstack',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Riya Patel.',
    },
  },
  {
    testimonial:
      'We ship new campaign pages in hours instead of weeks. That speed has been a quiet superpower for our growth team.',
    name: 'Chris Young',
    job: 'Head of Growth, Nimbus',
    image: {
      src: 'https://images.unsplash.com/photo-1525130413817-d45c1d127c42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Chris Young.',
    },
  },
  {
    testimonial:
      'The new long-form sales page became the single source of truth for our offer. Sales calls got shorter and close rates went up.',
    name: 'Daniela Rossi',
    job: 'Revenue Operations, Beacon',
    image: {
      src: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Daniela Rossi.',
    },
  },
  {
    testimonial:
      'Our new coaching homepage gives prospects everything they need to say yes before we ever talk. Calls feel more like enrollment than persuasion.',
    name: 'Morgan Blake',
    job: 'Business coach',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Morgan Blake.',
    },
  },
  {
    testimonial:
      'We finally have one place to send leads that shows our authority, explains our process, and surfaces the right next step.',
    name: 'Jamie Chen',
    job: 'Agency founder',
    image: {
      src: 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Jamie Chen.',
    },
  },
  {
    testimonial:
      'The long-form layout helped us tell the full story behind our flagship program. Applications now come in from people who are already bought in.',
    name: 'Nicole Alvarez',
    job: 'Leadership consultant',
    image: {
      src: 'https://images.unsplash.com/photo-1525130413817-d45c1d127c42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Nicole Alvarez.',
    },
  },
  {
    testimonial:
      'Within three months I went from feeling stuck and second-guessing every move to launching a new offer that sold out its first cohort.',
    name: 'Jordan Lee',
    job: 'Creative entrepreneur',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Jordan Lee.',
    },
  },
  {
    testimonial:
      'Having a space to think out loud with someone who understands both business and mindset has been game changing.',
    name: 'Alex Rivera',
    job: 'SaaS founder',
    image: {
      src: 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Alex Rivera.',
    },
  },
  {
    testimonial:
      'I finally have a weekly rhythm that supports my goals instead of constantly reacting to whatever feels urgent.',
    name: 'Monica Hughes',
    job: 'Marketing director',
    image: {
      src: 'https://images.unsplash.com/photo-1525130413817-d45c1d127c42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Monica Hughes.',
    },
  },
];

/**
 * MASONRY TESTIMONIALS DATA
 * 
 * Used specifically for Style 4 (Masonry Layout).
 * This array should contain testimonials with VARYING LENGTHS to create
 * the staggered masonry effect. Include some very short (1-2 sentences)
 * and some very long (3+ paragraphs) testimonials.
 * 
 * The expand/collapse functionality automatically handles testimonials over 200 characters.
 */
// @ts-ignore
const masonryTestimonials = [
  {
    testimonial: 'Amazing!',
    name: 'Sarah Kim',
    job: 'CEO',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Sarah Kim.',
    },
  },
  {
    testimonial:
      'This completely transformed how we approach customer onboarding. The templates are not just beautiful—they\'re strategically designed to guide visitors through a clear journey. Our conversion rates improved by 45% in the first quarter, and we\'ve received countless compliments on the professional appearance of our new landing pages. The flexibility to customize while maintaining best practices has been invaluable.',
    name: 'Michael Torres',
    job: 'VP of Marketing, TechFlow',
    image: {
      src: 'https://images.unsplash.com/photo-1525130413817-d45c1d127c42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Michael Torres.',
    },
  },
  {
    testimonial: 'Best decision we made this year.',
    name: 'Emma Wilson',
    job: 'Founder',
    image: {
      src: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Emma Wilson.',
    },
  },
  {
    testimonial:
      'Onboarding dropped from 21 days to 6, and our activation rate jumped by 28%. The templates made it easy to redesign our entire product tour.',
    name: 'Riya Patel',
    job: 'VP Product, Flowstack',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Riya Patel.',
    },
  },
  {
    testimonial: 'Highly recommend.',
    name: 'David Park',
    job: 'Designer',
    image: {
      src: 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of David Park.',
    },
  },
  {
    testimonial:
      'We\'ve been using this for six months now, and the impact has been remarkable. Not only did our website traffic increase by 60%, but the quality of leads improved dramatically. The long-form sales page template helped us explain our complex service offering in a way that resonated with our target audience. Our sales team reports that prospects now come to calls much better informed, which has shortened our sales cycle by an average of two weeks. The ROI has been exceptional.',
    name: 'Jennifer Martinez',
    job: 'Chief Revenue Officer, GrowthLabs',
    image: {
      src: 'https://images.unsplash.com/photo-1525130413817-d45c1d127c42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Jennifer Martinez.',
    },
  },
  {
    testimonial: 'Game changer.',
    name: 'Tom Anderson',
    job: 'Entrepreneur',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Tom Anderson.',
    },
  },
  {
    testimonial:
      'The coaching homepage template transformed our business. We went from struggling to explain our value proposition to having a clear, compelling narrative that speaks directly to our ideal clients. Applications for our programs increased by 80%, and the quality of applicants improved significantly. The testimonials section has been particularly effective in building trust with potential clients.',
    name: 'Lisa Chen',
    job: 'Executive Coach',
    image: {
      src: 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Lisa Chen.',
    },
  },
  {
    testimonial: 'Love it!',
    name: 'Ryan Brown',
    job: 'Marketing Lead',
    image: {
      src: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Ryan Brown.',
    },
  },
];

/**
 * LONG FORM TESTIMONIALS DATA
 * 
 * Used specifically for Style 9 (Long Form Testimonials).
 * These should be detailed, story-driven testimonials (3+ paragraphs).
 * 
 * Testimonials over 300 characters are automatically truncated with a "Read More" button.
 * To change the truncation length, search for `300` in the Style 9 section below.
 */
// @ts-ignore
const longTestimonials = [
  {
    testimonial:
      'I\'ve been working with this team for over a year now, and the transformation in my business has been nothing short of remarkable. When I first started, I was struggling to articulate my value proposition clearly. My sales calls felt like I was constantly explaining and defending my approach rather than enrolling clients who were already excited to work with me.\n\nAfter implementing the long-form sales page template, everything changed. Prospects now come to discovery calls having already read about my methodology, seen case studies from similar clients, and understood the investment. The calls have shifted from "tell me more" to "how do we get started?"\n\nMy close rate increased from 35% to 68%, and my average deal size grew by 40% because clients were better qualified and more committed before we even spoke. The testimonials section has been particularly powerful—seeing real results from people in similar situations has removed so much friction from the sales process.\n\nThe best part? I spend less time on sales calls and more time actually delivering results for my clients. The templates gave me a framework, but the real value was in learning how to structure my story in a way that resonates with my ideal clients.',
    name: 'Sarah Mitchell',
    job: 'Executive Leadership Coach',
    image: {
      src: 'https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Sarah Mitchell.',
    },
  },
  {
    testimonial:
      'As a consultant who works with B2B SaaS companies, I needed a way to showcase complex service offerings without overwhelming potential clients. The landing page templates provided exactly what I was looking for—a structure that could handle detailed explanations while maintaining visual appeal and readability.\n\nWe implemented the long-form sales page for our flagship consulting program, and the results exceeded our expectations. Application quality improved dramatically because prospects had a complete understanding of our process, methodology, and expected outcomes before applying. This meant we were spending time with truly qualified leads rather than educating people who weren\'t a good fit.\n\nOur sales cycle shortened by three weeks on average, and we saw a 55% increase in applications. But more importantly, the clients who came through this process were more engaged, more committed, and achieved better results because they understood what they were signing up for.\n\nThe testimonials and case studies sections have become our most powerful conversion tools. When prospects see detailed stories from companies similar to theirs, it creates an immediate connection and builds trust that would normally take multiple sales calls to establish.',
    name: 'David Chen',
    job: 'SaaS Growth Consultant',
    image: {
      src: 'https://images.unsplash.com/photo-1525130413817-d45c1d127c42?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of David Chen.',
    },
  },
  {
    testimonial:
      'Before discovering these templates, I was using a simple one-page website that didn\'t do justice to the depth of my coaching programs. I knew my clients were getting incredible results, but I struggled to communicate the full value and transformation potential in a way that resonated with prospects.\n\nThe coaching homepage template changed everything. It gave me a framework to tell the complete story—not just what I do, but why it matters, how it works, and what transformation is possible. The structure helped me organize years of client success stories, methodologies, and program details into a cohesive narrative.\n\nWithin the first month of launching the new page, I saw a 90% increase in applications for my group coaching program. But what really surprised me was the quality of those applications. People were applying with a clear understanding of the commitment required and the results they could expect.\n\nMy favorite feature is the testimonials section. I can showcase detailed case studies that show the full journey—not just the end result, but the challenges clients faced, the process we went through together, and the lasting impact. This has been invaluable for building trust with potential clients who are considering a significant investment in their growth.',
    name: 'Maria Rodriguez',
    job: 'Business Strategy Coach',
    image: {
      src: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of Maria Rodriguez.',
    },
  },
  {
    testimonial:
      'I run a boutique consulting firm that specializes in helping service-based businesses scale. For years, I struggled with how to present our comprehensive approach in a way that didn\'t feel overwhelming but also didn\'t oversimplify what we do.\n\nThe long-form sales page template solved this perfectly. It allowed us to create a detailed, multi-section page that guides prospects through our entire methodology while maintaining their attention. The key was the strategic use of sections, visual breaks, and progressive disclosure of information.\n\nWe\'ve seen incredible results: a 75% increase in qualified leads, a 50% improvement in close rates, and most importantly, clients who are better prepared and more committed when they start working with us. The detailed explanations mean fewer surprises and higher satisfaction rates.\n\nWhat I appreciate most is how the template structure forced us to think more strategically about our sales process. We had to clarify our messaging, organize our case studies, and think about the prospect\'s journey from first visit to application. This exercise alone was worth the investment, but the ongoing results have been transformative for our business.',
    name: 'James Thompson',
    job: 'Scaling Consultant',
    image: {
      src: 'https://images.unsplash.com/photo-1544723795-3fb6469f5b39?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=987&q=80',
      alt: 'Portrait of James Thompson.',
    },
  },
];
---

<Layout metadata={metadata}>
  <!-- HeroText Widget ******************* -->

  <HeroText
    tagline="Testimonial Wall Styles"
    title="Choose Your Favorite Testimonial Layout"
    subtitle="Browse different testimonial wall styles below. Each showcases the same testimonials in a unique layout so you can pick the one that best fits your brand."
  />


  <!-- 
    NAVIGATION INDEX
    Quick links to jump to each testimonial style.
    To remove a style, delete its link here and the corresponding section below.
  -->
  <section class="py-8 bg-slate-50 dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 sticky top-0 z-10">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <nav class="flex flex-wrap justify-center gap-4 md:gap-6">
        <a href="#style-1" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 1: Grid
        </a>
        <a href="#style-2" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 2: Two-Column
        </a>
        <a href="#style-3" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 3: Featured
        </a>
        <a href="#style-4" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 4: Masonry
        </a>
        <a href="#style-5" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 5: Minimal
        </a>
        <a href="#style-6" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 6: Alternating
        </a>
        <a href="#style-7" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 7: No Photos
        </a>
        <a href="#style-8" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 8: Slider
        </a>
        <a href="#style-9" class="text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-primary transition-colors">
          Style 9: Long Form
        </a>
      </nav>
    </div>
  </section>

  <!-- 
    STYLE 1: STANDARD GRID LAYOUT
    Uses the Testimonials component from AstroWind.
    This is a 3-column grid with equal-height cards.
    
    TO CUSTOMIZE:
    - Replace <Testimonials> component with custom HTML if needed
    - Modify grid columns: change `lg:grid-cols-3` to `lg:grid-cols-2` or `lg:grid-cols-4`
    - Adjust card styling in the Testimonials component file
  -->
  <section id="style-1" class="py-16 md:py-24 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 1</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Standard Grid Layout</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Classic 3-column grid with equal-height cards. Perfect for balanced, professional presentations.
        </p>
      </div>
      
      <!-- 
        AVATAR DISPLAY TOGGLE BUTTONS
        These buttons allow users to preview different avatar display modes.
        Each button has:
        - data-mode: The display mode (image, none, placeholder, icon, initials)
        - data-section: The section ID this toggle controls (style-1, style-2, etc.)
        
        To add toggles to your own page, copy this button group and update data-section.
      -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-1">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-1">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-1">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-1">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-1">
          Initials
        </button>
      </div>
      
      <!-- 
        TESTIMONIAL SECTION WRAPPER
        The data-section attribute is required for the toggle functionality to work.
        Make sure to include this wrapper with data-section matching the section ID.
      -->
      <div class="testimonial-section" data-section="style-1">
        <Testimonials testimonials={allTestimonials} />
      </div>
    </div>
  </section>

  <!-- 
    STYLE 2: TWO-COLUMN GRID
    Spacious 2-column layout ideal for longer testimonials.
    
    TO CUSTOMIZE:
    - Change grid columns: `sm:grid-cols-2` to `sm:grid-cols-1` or `lg:grid-cols-3`
    - Adjust card padding: change `p-6` to `p-4` or `p-8`
    - Modify avatar size: change `h-12 w-12` to your preferred size
  -->
  <!-- Style 2: 2-Column Grid -->
  <section id="style-2" class="py-16 md:py-24 bg-slate-50 dark:bg-slate-900 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 2</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Two-Column Layout</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Spacious 2-column grid that gives each testimonial more room to breathe. Ideal for longer quotes.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-2">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-2">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-2">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-2">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-2">
          Initials
        </button>
      </div>
      
      <div class="grid sm:grid-cols-2 gap-6 testimonial-section" data-section="style-2">
        {/* @ts-ignore */}
        {allTestimonials.map(({ testimonial, name, job, image }, index) => (
          <div class="flex h-auto testimonial-card" data-name={name} data-image-src={image?.src} data-image-alt={image?.alt}>
            <div class="flex flex-col p-6 rounded-lg shadow-lg dark:shadow-none dark:border dark:border-slate-600 bg-white dark:bg-slate-800">
              {testimonial && (
                <blockquote class="flex-auto mb-6">
                  <p class="text-lg text-muted">" {testimonial} "</p>
                </blockquote>
              )}

              <hr class="border-slate-200 dark:border-slate-600 mb-4" />

              <div class="flex items-center">
                <div class="testimonial-avatar h-12 w-12 rounded-full border-2 border-slate-200 dark:border-slate-600 overflow-hidden flex-shrink-0" data-mode="image">
                  {image && (
                    <img
                      src={image.src}
                      alt={image.alt}
                      class="h-12 w-12 object-cover"
                    />
                  )}
                </div>

                <div class="grow ml-4">
                  {name && <p class="text-base font-semibold">{name}</p>}
                  {job && <p class="text-sm text-muted">{job}</p>}
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Style 3: Featured + Grid -->
  <section id="style-3" class="py-16 md:py-24 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 3</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Featured Testimonial + Grid</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          One large featured testimonial at the top, followed by a grid of smaller testimonials below.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-3">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-3">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-3">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-3">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-3">
          Initials
        </button>
      </div>
      
      <!-- Featured Testimonial -->
      <div class="mb-12 testimonial-section" data-section="style-3">
        <div class="bg-gradient-to-br from-primary/10 to-primary/5 dark:from-primary/20 dark:to-primary/10 rounded-xl p-8 md:p-12 border border-primary/20">
          <div class="flex items-start gap-6">
            <div class="testimonial-avatar h-20 w-20 rounded-full border-4 border-white dark:border-slate-800 overflow-hidden flex-shrink-0" data-mode="image">
              {allTestimonials[0].image && (
                <img
                  src={allTestimonials[0].image.src}
                  alt={allTestimonials[0].image.alt}
                  class="h-20 w-20 object-cover"
                />
              )}
            </div>
            <div class="flex-1">
              <blockquote class="mb-6">
                <p class="text-2xl md:text-3xl font-medium text-slate-900 dark:text-white leading-relaxed">
                  " {allTestimonials[0].testimonial} "
                </p>
              </blockquote>
              <div>
                <p class="text-lg font-semibold text-slate-900 dark:text-white">{allTestimonials[0].name}</p>
                <p class="text-base text-muted">{allTestimonials[0].job}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Grid of remaining testimonials -->
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {/* @ts-ignore */}
        {allTestimonials.slice(1).map(({ testimonial, name, job, image }, index) => (
          <div class="flex h-auto testimonial-card" data-name={name} data-image-src={image?.src} data-image-alt={image?.alt}>
            <div class="flex flex-col p-6 rounded-lg shadow-lg dark:shadow-none dark:border dark:border-slate-600 bg-white dark:bg-slate-800">
              {testimonial && (
                <blockquote class="flex-auto mb-6">
                  <p class="text-muted">" {testimonial} "</p>
                </blockquote>
              )}

              <hr class="border-slate-200 dark:border-slate-600 mb-4" />

              <div class="flex items-center">
                <div class="testimonial-avatar h-10 w-10 rounded-full border border-slate-200 dark:border-slate-600 overflow-hidden flex-shrink-0" data-mode="image">
                  {image && (
                    <img
                      src={image.src}
                      alt={image.alt}
                      class="h-10 w-10 object-cover"
                    />
                  )}
                </div>

                <div class="grow ml-3">
                  {name && <p class="text-base font-semibold">{name}</p>}
                  {job && <p class="text-xs text-muted">{job}</p>}
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Style 4: Masonry/Staggered Layout with varied lengths -->
  <section id="style-4" class="py-16 md:py-24 bg-slate-50 dark:bg-slate-900 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 4</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Masonry Layout</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Staggered cards of varying heights create visual interest. Great for dynamic, modern presentations.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-4">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-4">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-4">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-4">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-4">
          Initials
        </button>
      </div>
      
      <div class="columns-1 md:columns-2 lg:columns-3 gap-6 testimonial-section" data-section="style-4">
        {/* @ts-ignore */}
        {masonryTestimonials.map(({ testimonial, name, job, image }, index) => {
          const isLong = testimonial.length > 200;
          const truncatedText = isLong ? testimonial.substring(0, 200) + '...' : testimonial;
          return (
            <div class="break-inside-avoid mb-6 testimonial-card" data-name={name} data-image-src={image?.src} data-image-alt={image?.alt}>
              <div class="flex flex-col p-6 rounded-lg shadow-lg dark:shadow-none dark:border dark:border-slate-600 bg-white dark:bg-slate-800 masonry-testimonial" data-masonry-index={index}>
                {testimonial && (
                  <blockquote class="flex-auto mb-6">
                    <p class="masonry-text text-muted" data-full={testimonial}>" {truncatedText} "</p>
                  </blockquote>
                )}

                {isLong && (
                  <button
                    type="button"
                    class="masonry-expand-btn text-xs text-primary hover:text-primary/80 font-semibold mb-4 flex items-center gap-1 transition-colors"
                    onclick={`toggleMasonryTestimonial(${index})`}
                  >
                    <span class="masonry-expand-text">Read More</span>
                    <svg 
                      class="masonry-expand-icon w-4 h-4 transition-transform" 
                      fill="none" 
                      stroke="currentColor" 
                      viewBox="0 0 24 24"
                    >
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                  </button>
                )}

                <hr class="border-slate-200 dark:border-slate-600 mb-4" />

                <div class="flex items-center">
                  <div class="testimonial-avatar h-10 w-10 rounded-full border border-slate-200 dark:border-slate-600 overflow-hidden flex-shrink-0" data-mode="image">
                    {image && (
                      <img
                        src={image.src}
                        alt={image.alt}
                        class="h-10 w-10 object-cover"
                      />
                    )}
                  </div>

                  <div class="grow ml-3">
                    {name && <p class="text-base font-semibold">{name}</p>}
                    {job && <p class="text-xs text-muted">{job}</p>}
                  </div>
                </div>
              </div>
            </div>
          );
        })}
      </div>
    </div>
  </section>

  <!-- Style 5: Minimal Cards -->
  <section id="style-5" class="py-16 md:py-24 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 5</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Minimal Clean Cards</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Clean, minimal design with subtle borders. Perfect for brands that prefer understated elegance.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-5">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-5">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-5">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-5">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-5">
          Initials
        </button>
      </div>
      
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8 testimonial-section" data-section="style-5">
        {/* @ts-ignore */}
        {allTestimonials.map(({ testimonial, name, job, image }) => (
          <div class="flex h-auto testimonial-card" data-name={name} data-image-src={image?.src} data-image-alt={image?.alt}>
            <div class="flex flex-col p-8 rounded-lg border-2 border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 hover:border-primary/50 dark:hover:border-primary/50 transition-colors">
              {testimonial && (
                <blockquote class="flex-auto mb-8">
                  <p class="text-lg text-slate-700 dark:text-slate-300 leading-relaxed">" {testimonial} "</p>
                </blockquote>
              )}

              <div class="flex items-center pt-6 border-t border-slate-200 dark:border-slate-700">
                <div class="testimonial-avatar h-12 w-12 rounded-full overflow-hidden flex-shrink-0" data-mode="image">
                  {image && (
                    <img
                      src={image.src}
                      alt={image.alt}
                      class="h-12 w-12 object-cover"
                    />
                  )}
                </div>

                <div class="grow ml-4">
                  {name && <p class="text-base font-semibold text-slate-900 dark:text-white">{name}</p>}
                  {job && <p class="text-sm text-muted">{job}</p>}
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Style 6: Side-by-Side Alternating -->
  <section id="style-6" class="py-16 md:py-24 bg-slate-50 dark:bg-slate-900 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 6</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Alternating Side-by-Side</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Large testimonials displayed side-by-side with alternating layouts. Perfect for storytelling flow.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-6">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-6">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-6">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-6">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-6">
          Initials
        </button>
      </div>
      
      <div class="space-y-12 testimonial-section" data-section="style-6">
        {/* @ts-ignore */}
        {allTestimonials.slice(0, 4).map((testimonial, index) => (
          <div class={`flex flex-col md:flex-row gap-8 items-center testimonial-card ${index % 2 === 1 ? 'md:flex-row-reverse' : ''}`} data-name={testimonial.name} data-image-src={testimonial.image?.src} data-image-alt={testimonial.image?.alt}>
            <div class="flex-shrink-0">
              <div class="testimonial-avatar h-32 w-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-lg" data-mode="image">
                {testimonial.image && (
                  <img
                    src={testimonial.image.src}
                    alt={testimonial.image.alt}
                    class="h-32 w-32 object-cover"
                  />
                )}
              </div>
            </div>
            <div class="flex-1 text-center md:text-left">
              <blockquote class="mb-6">
                <p class="text-xl md:text-2xl font-medium text-slate-900 dark:text-white leading-relaxed">
                  " {testimonial.testimonial} "
                </p>
              </blockquote>
              <div>
                <p class="text-lg font-semibold text-slate-900 dark:text-white">{testimonial.name}</p>
                <p class="text-base text-muted">{testimonial.job}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Style 7: No Profile Pictures -->
  <section id="style-7" class="py-16 md:py-24 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 7</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Text-Only Testimonials</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Clean, text-focused design without profile pictures. Emphasizes the words and message.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="image" data-section="style-7">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="none" data-section="style-7">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-7">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-7">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-7">
          Initials
        </button>
      </div>
      
      <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6 testimonial-section" data-section="style-7">
        {/* @ts-ignore */}
        {allTestimonials.map(({ testimonial, name, job, image }) => (
          <div class="flex h-auto testimonial-card" data-name={name} data-image-src={image?.src} data-image-alt={image?.alt}>
            <div class="flex flex-col p-6 rounded-lg shadow-lg dark:shadow-none dark:border dark:border-slate-600 bg-white dark:bg-slate-800">
              {testimonial && (
                <blockquote class="flex-auto mb-6">
                  <p class="text-lg text-muted leading-relaxed">" {testimonial} "</p>
                </blockquote>
              )}

              <hr class="border-slate-200 dark:border-slate-600 mb-4" />

              <div class="flex items-center">
                <div class="testimonial-avatar h-10 w-10 rounded-full border border-slate-200 dark:border-slate-600 overflow-hidden flex-shrink-0 hidden" data-mode="none">
                  {image && (
                    <img
                      src={image.src}
                      alt={image.alt}
                      class="h-10 w-10 object-cover"
                    />
                  )}
                </div>

                <div>
                  {name && <p class="text-base font-semibold">{name}</p>}
                  {job && <p class="text-sm text-muted mt-1">{job}</p>}
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Style 8: Dynamic Slider -->
  <section id="style-8" class="py-16 md:py-24 bg-slate-50 dark:bg-slate-900 scroll-mt-20">
    <div class="max-w-6xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 8</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Dynamic Testimonial Slider</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Auto-rotating slider showing 3 testimonials at a time. Perfect for engaging, dynamic presentations.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-8">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-8">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-8">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-8">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-8">
          Initials
        </button>
      </div>
      
      <div class="relative overflow-hidden testimonial-section" data-section="style-8">
        <div id="testimonial-slider" class="flex transition-transform duration-500 ease-in-out" style="width: 100%;">
          {/* @ts-ignore */}
          {allTestimonials.map((testimonial, index) => (
            <div class="w-full md:w-1/3 flex-shrink-0 px-2 testimonial-card" data-name={testimonial.name} data-image-src={testimonial.image?.src} data-image-alt={testimonial.image?.alt}>
              <div class="flex flex-col p-6 rounded-lg shadow-lg dark:shadow-none dark:border dark:border-slate-600 bg-white dark:bg-slate-800 h-full">
                {testimonial.testimonial && (
                  <blockquote class="flex-auto mb-6">
                    <p class="text-lg text-muted leading-relaxed">" {testimonial.testimonial} "</p>
                  </blockquote>
                )}

                <hr class="border-slate-200 dark:border-slate-600 mb-4" />

                <div class="flex items-center">
                  <div class="testimonial-avatar h-12 w-12 rounded-full border-2 border-slate-200 dark:border-slate-600 overflow-hidden flex-shrink-0" data-mode="image">
                    {testimonial.image && (
                      <img
                        src={testimonial.image.src}
                        alt={testimonial.image.alt}
                        class="h-12 w-12 object-cover"
                      />
                    )}
                  </div>

                  <div class="grow ml-4">
                    {testimonial.name && <p class="text-base font-semibold">{testimonial.name}</p>}
                    {testimonial.job && <p class="text-sm text-muted">{testimonial.job}</p>}
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

      <!-- Slider Controls -->
      <div class="flex justify-center gap-2 mt-8">
        {/* @ts-ignore */}
        {Array.from({ length: Math.ceil(allTestimonials.length / 3) }).map((_, index) => (
          <button
            type="button"
            class="slider-dot w-3 h-3 rounded-full bg-slate-300 dark:bg-slate-600 hover:bg-primary transition-colors"
            data-slide={index}
            aria-label={`Go to slide ${index + 1}`}
          ></button>
        ))}
      </div>
    </div>
  </section>

  <script is:inline>
    // Testimonial Slider Functionality
    (function() {
      // @ts-ignore - DOM APIs are available in browser
      const slider = document.getElementById('testimonial-slider');
      // @ts-ignore - DOM APIs are available in browser
      const dots = document.querySelectorAll('.slider-dot');
      if (!slider || !dots.length) return;
      
      let currentSlide = 0;
      const totalTestimonials = slider.children.length;
      
      function getTestimonialsPerSlide() {
        // @ts-ignore - window is available in browser
        return window.innerWidth >= 768 ? 3 : 1;
      }
      
      function getMaxSlide() {
        const perSlide = getTestimonialsPerSlide();
        // @ts-ignore - Math is available in browser
        return Math.ceil(totalTestimonials / perSlide) - 1;
      }

      function updateSlider() {
        const perSlide = getTestimonialsPerSlide();
        const translateX = -currentSlide * (100 / perSlide);
        slider.style.transform = `translateX(${translateX}%)`;
        
        // Update active dot
        dots.forEach((dot, index) => {
          if (index === currentSlide) {
            dot.classList.add('bg-primary');
            dot.classList.remove('bg-slate-300', 'dark:bg-slate-600');
          } else {
            dot.classList.remove('bg-primary');
            dot.classList.add('bg-slate-300', 'dark:bg-slate-600');
          }
        });
      }

      // Dot navigation
      dots.forEach((dot, index) => {
        dot.addEventListener('click', () => {
          currentSlide = index;
          updateSlider();
        });
      });

      // Auto-advance slider
      // @ts-ignore - setInterval is available in browser
      setInterval(() => {
        const maxSlide = getMaxSlide();
        currentSlide = (currentSlide + 1) % (maxSlide + 1);
        updateSlider();
      }, 5000);

      // Handle window resize
      let resizeTimeout;
      // @ts-ignore - window is available in browser
      window.addEventListener('resize', () => {
        // @ts-ignore - clearTimeout is available in browser
        clearTimeout(resizeTimeout);
        // @ts-ignore - setTimeout is available in browser
        resizeTimeout = setTimeout(() => {
          currentSlide = 0;
          updateSlider();
        }, 250);
      });

      // Initialize
      updateSlider();
    })();
  </script>

  <!-- Style 9: Long Form Testimonials with Expand/Collapse -->
  <section id="style-9" class="py-16 md:py-24 scroll-mt-20">
    <div class="max-w-5xl mx-auto px-4 md:px-8">
      <div class="text-center mb-12">
        <span class="text-sm font-semibold text-primary uppercase tracking-wider">Style 9</span>
        <h2 class="text-3xl md:text-4xl font-bold mt-2 mb-4">Long Form Testimonials</h2>
        <p class="text-lg text-muted max-w-2xl mx-auto">
          Full-width layout designed for detailed, story-driven testimonials. Click to expand and read the complete story.
        </p>
      </div>
      
      <!-- Avatar Display Toggle -->
      <div class="mb-8 flex flex-wrap justify-center gap-2">
        <button type="button" class="avatar-toggle-btn active px-4 py-2 rounded-full text-sm font-medium bg-primary text-white" data-mode="image" data-section="style-9">
          Photo
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="none" data-section="style-9">
          None
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="placeholder" data-section="style-9">
          Placeholder
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="icon" data-section="style-9">
          Icon
        </button>
        <button type="button" class="avatar-toggle-btn px-4 py-2 rounded-full text-sm font-medium bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600" data-mode="initials" data-section="style-9">
          Initials
        </button>
      </div>
      
      <div class="space-y-8 testimonial-section" data-section="style-9">
        {/* @ts-ignore */}
        {longTestimonials.map((testimonial, index) => (
          <div 
            class="testimonial-card bg-white dark:bg-slate-800 rounded-lg shadow-lg dark:shadow-none dark:border dark:border-slate-600 overflow-hidden"
            data-index={index}
            data-name={testimonial.name}
            data-image-src={testimonial.image?.src}
            data-image-alt={testimonial.image?.alt}
          >
            <div class="p-6 md:p-8">
              <div class="flex items-start gap-6 mb-6">
                <div class="flex-shrink-0">
                  <div class="testimonial-avatar h-16 w-16 md:h-20 md:w-20 rounded-full overflow-hidden border-2 border-slate-200 dark:border-slate-600" data-mode="image">
                    {testimonial.image && (
                      <img
                        src={testimonial.image.src}
                        alt={testimonial.image.alt}
                        class="h-16 w-16 md:h-20 md:w-20 object-cover"
                      />
                    )}
                  </div>
                </div>
                <div class="flex-1 min-w-0">
                  <h3 class="text-xl md:text-2xl font-semibold text-slate-900 dark:text-white mb-1">
                    {testimonial.name}
                  </h3>
                  <p class="text-base text-muted mb-4">{testimonial.job}</p>
                </div>
              </div>

              <div class="testimonial-content">
                <blockquote>
                  <p 
                    class="testimonial-text text-lg md:text-xl text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-line"
                    data-full={testimonial.testimonial}
                  >
                    {testimonial.testimonial.length > 300 
                      ? testimonial.testimonial.substring(0, 300) + '...' 
                      : testimonial.testimonial}
                  </p>
                </blockquote>
              </div>

              {testimonial.testimonial.length > 300 && (
                <button
                  type="button"
                  class="expand-btn mt-6 text-primary hover:text-primary/80 font-semibold flex items-center gap-2 transition-colors"
                  data-index={index}
                  onclick={`toggleTestimonial(${index})`}
                >
                  <span class="expand-text">Read More</span>
                  <svg 
                    class="expand-icon w-5 h-5 transition-transform" 
                    fill="none" 
                    stroke="currentColor" 
                    viewBox="0 0 24 24"
                  >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                  </svg>
                </button>
              )}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <script is:inline>
    /**
     * AVATAR TOGGLE FUNCTIONALITY
     * 
     * This script handles the interactive avatar display toggles.
     * It works by:
     * 1. Finding all avatars in a section (elements with class .testimonial-avatar)
     * 2. Reading data attributes from testimonial cards (data-name, data-image-src, etc.)
     * 3. Switching the avatar display based on the selected mode
     * 
     * TO USE THIS ON YOUR OWN PAGE:
     * 1. Copy the entire <script> block below
     * 2. Make sure your testimonial cards have:
     *    - class="testimonial-card" on the card container
     *    - data-name="Person Name" attribute
     *    - data-image-src="image-url.jpg" attribute
     *    - data-image-alt="Alt text" attribute
     * 3. Make sure avatar containers have class="testimonial-avatar"
     * 4. The toggle buttons will automatically work
     */

    // Expand/Collapse functionality for long form testimonials
    function toggleTestimonial(index) {
      const card = document.querySelector(`[data-index="${index}"]`);
      const text = card.querySelector('.testimonial-text');
      const btn = card.querySelector('.expand-btn');
      const expandText = btn.querySelector('.expand-text');
      const expandIcon = btn.querySelector('.expand-icon');
      const fullText = text.getAttribute('data-full');
      
      if (text.textContent.includes('...')) {
        // Expand
        text.textContent = fullText;
        expandText.textContent = 'Read Less';
        expandIcon.style.transform = 'rotate(180deg)';
        card.classList.add('expanded');
      } else {
        // Collapse
        text.textContent = fullText.substring(0, 300) + '...';
        expandText.textContent = 'Read More';
        expandIcon.style.transform = 'rotate(0deg)';
        card.classList.remove('expanded');
      }
    }

    // Expand/Collapse functionality for masonry testimonials
    function toggleMasonryTestimonial(index) {
      const card = document.querySelector(`[data-masonry-index="${index}"]`);
      const text = card.querySelector('.masonry-text');
      const btn = card.querySelector('.masonry-expand-btn');
      const expandText = btn.querySelector('.masonry-expand-text');
      const expandIcon = btn.querySelector('.masonry-expand-icon');
      const fullText = text.getAttribute('data-full');
      
      if (text.textContent.includes('...')) {
        // Expand
        text.textContent = '" ' + fullText + ' "';
        expandText.textContent = 'Read Less';
        expandIcon.style.transform = 'rotate(180deg)';
        card.classList.add('expanded');
      } else {
        // Collapse
        text.textContent = '" ' + fullText.substring(0, 200) + '... "';
        expandText.textContent = 'Read More';
        expandIcon.style.transform = 'rotate(0deg)';
        card.classList.remove('expanded');
      }
    }

    // Make functions available globally
    window.toggleTestimonial = toggleTestimonial;
    window.toggleMasonryTestimonial = toggleMasonryTestimonial;

    /**
     * AVATAR DISPLAY TOGGLE FUNCTIONS
     * 
     * getInitials(): Extracts initials from a full name
     * - Takes first letter of first name and first letter of last name
     * - Example: "John Doe" -> "JD"
     * - Falls back to first 2 characters if only one name provided
     */
    function getInitials(name) {
      if (!name) return '??';
      const parts = name.trim().split(/\s+/);
      if (parts.length >= 2) {
        return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();
      }
      return name.substring(0, 2).toUpperCase();
    }

    // Make functions available globally before DOMContentLoaded
    window.getInitials = getInitials;

    /**
     * updateAvatarDisplay(sectionId, mode)
     * 
     * Main function that updates all avatars in a section to the specified display mode.
     * 
     * @param {string} sectionId - The ID of the section (e.g., "style-1", "style-2")
     * @param {string} mode - The display mode: "image", "none", "placeholder", "icon", or "initials"
     * 
     * HOW IT WORKS:
     * 1. Finds the section by ID or data-section attribute
     * 2. Locates all avatar elements (class .testimonial-avatar or div[class*="rounded-full"])
     * 3. For each avatar:
     *    - Extracts name and image data from data attributes or DOM
     *    - Determines avatar size from existing classes
     *    - Replaces avatar content based on selected mode
     * 
     * DISPLAY MODES:
     * - "image": Shows the actual profile picture
     * - "none": Hides the avatar completely
     * - "placeholder": Shows a gradient placeholder box
     * - "icon": Shows a user icon SVG
     * - "initials": Shows first and last name initials
     */
    function updateAvatarDisplay(sectionId, mode) {
      console.log('updateAvatarDisplay called:', sectionId, mode);
      
      // Find the section - try testimonial-section wrapper first, then section ID
      let section = document.querySelector(`.testimonial-section[data-section="${sectionId}"]`);
      if (!section) {
        // Fallback: try finding by section ID
        const sectionElement = document.getElementById(sectionId);
        if (sectionElement) {
          section = sectionElement;
        }
      }
      if (!section) {
        console.log('Section not found:', sectionId);
        return;
      }

      console.log('Section found:', section);

      // Find all avatars in this section - try multiple selectors
      let avatars = section.querySelectorAll('.testimonial-avatar');
      if (avatars.length === 0) {
        // Fallback: look for any rounded-full divs that might be avatars
        avatars = section.querySelectorAll('div[class*="rounded-full"]');
        // Add the class to them so they're recognized
        avatars.forEach(avatar => {
          if (!avatar.classList.contains('testimonial-avatar')) {
            avatar.classList.add('testimonial-avatar');
          }
        });
      }
      
      console.log('Found avatars:', avatars.length);
      avatars.forEach(avatar => {
        // Skip if it's not actually an avatar (e.g., a button or other element)
        if (!avatar.classList.contains('rounded-full') && !avatar.querySelector('img') && !avatar.querySelector('div[class*="rounded-full"]')) {
          return;
        }
        const card = avatar.closest('.testimonial-card') || avatar.closest('[class*="flex"]') || avatar.parentElement;
        
        // Get name - try multiple sources
        let name = card?.getAttribute('data-name') || '';
        if (!name) {
          const nameEl = card?.querySelector('p[class*="font-semibold"]');
          name = nameEl?.textContent?.trim() || '';
        }
        
        // Get image source - try multiple sources and store original
        let imageSrc = card?.getAttribute('data-image-src') || '';
        let imageAlt = card?.getAttribute('data-image-alt') || '';
        
        // If not in data attributes, get from current img
        if (!imageSrc) {
          const currentImg = avatar.querySelector('img');
          if (currentImg) {
            imageSrc = currentImg.getAttribute('src') || '';
            imageAlt = currentImg.getAttribute('alt') || imageAlt;
            // Store in data attributes for future use
            if (card && imageSrc) {
              card.setAttribute('data-image-src', imageSrc);
              if (imageAlt) card.setAttribute('data-image-alt', imageAlt);
            }
          }
        }
        
        // Get size classes from current avatar
        const sizeClasses = [];
        if (avatar.classList.contains('h-20') || avatar.classList.contains('h-32')) {
          sizeClasses.push(avatar.classList.contains('h-32') ? 'h-32 w-32' : 'h-20 w-20');
        } else if (avatar.classList.contains('h-16')) {
          sizeClasses.push('h-16 w-16');
        } else if (avatar.classList.contains('h-12')) {
          sizeClasses.push('h-12 w-12');
        } else {
          sizeClasses.push('h-10 w-10');
        }
        const size = sizeClasses[0];
        
        // Get border classes
        const hasBorder4 = avatar.classList.contains('border-4');
        const borderClass = hasBorder4 ? 'border-4' : 'border-2';
        const borderColor = 'border-slate-200 dark:border-slate-600';
        
        // Store original values in data attributes if not already there
        if (card && name && !card.getAttribute('data-name')) {
          card.setAttribute('data-name', name);
        }
        
        // Clear and reset
        avatar.innerHTML = '';
        avatar.setAttribute('data-mode', mode);
        avatar.className = `testimonial-avatar ${size} flex-shrink-0 flex items-center justify-center rounded-full ${borderClass} ${borderColor} overflow-hidden`;

        switch(mode) {
          case 'image':
            if (imageSrc) {
              avatar.innerHTML = `<img src="${imageSrc}" alt="${imageAlt || name}" class="${size} object-cover" />`;
            } else {
              avatar.innerHTML = `<div class="${size} bg-slate-200 dark:bg-slate-700"></div>`;
            }
            avatar.style.display = 'flex';
            avatar.style.width = '';
            avatar.style.margin = '';
            // Remove any classes that might affect layout
            avatar.classList.remove('hidden');
            // Restore margin on name container if it was removed
            const flexParentRestore = avatar.parentElement;
            if (flexParentRestore && flexParentRestore.classList.contains('flex')) {
              const nameContainerRestore = flexParentRestore.querySelector('.grow, [class*="ml-"]');
              if (nameContainerRestore) {
                // Restore appropriate margin based on avatar size
                const marginClass = size.includes('12') ? 'ml-4' : size.includes('16') || size.includes('20') || size.includes('32') ? 'ml-6' : 'ml-3';
                if (!nameContainerRestore.classList.contains(marginClass)) {
                  nameContainerRestore.classList.add(marginClass);
                }
                nameContainerRestore.style.marginLeft = '';
              }
            }
            break;
          case 'none':
            // Hide avatar and remove it from layout flow completely
            avatar.style.display = 'none';
            avatar.style.width = '0';
            avatar.style.margin = '0';
            avatar.style.padding = '0';
            // Also hide the parent flex container's gap if it exists
            const flexParent = avatar.parentElement;
            if (flexParent && flexParent.classList.contains('flex')) {
              // Remove margin-left from the name/details container
              const nameContainer = flexParent.querySelector('.grow, [class*="ml-"]');
              if (nameContainer) {
                // Remove left margin classes
                nameContainer.classList.remove('ml-3', 'ml-4', 'ml-6');
                nameContainer.style.marginLeft = '0';
              }
            }
            break;
          case 'placeholder':
            avatar.innerHTML = `<div class="${size} bg-gradient-to-br from-slate-300 to-slate-400 dark:from-slate-600 dark:to-slate-700 rounded-full"></div>`;
            avatar.style.display = 'flex';
            avatar.style.width = '';
            avatar.style.margin = '';
            // Restore margin on name container
            const flexParentPlaceholder = avatar.parentElement;
            if (flexParentPlaceholder && flexParentPlaceholder.classList.contains('flex')) {
              const nameContainerPlaceholder = flexParentPlaceholder.querySelector('.grow, [class*="ml-"]');
              if (nameContainerPlaceholder) {
                const marginClass = size.includes('12') ? 'ml-4' : size.includes('16') || size.includes('20') || size.includes('32') ? 'ml-6' : 'ml-3';
                if (!nameContainerPlaceholder.classList.contains(marginClass)) {
                  nameContainerPlaceholder.classList.add(marginClass);
                }
                nameContainerPlaceholder.style.marginLeft = '';
              }
            }
            break;
          case 'icon':
            const iconSize = size.includes('32') ? 'w-8 h-8' : size.includes('20') ? 'w-6 h-6' : size.includes('16') ? 'w-5 h-5' : 'w-4 h-4';
            avatar.innerHTML = `<svg class="${iconSize} text-slate-500 dark:text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>`;
            avatar.style.display = 'flex';
            avatar.style.width = '';
            avatar.style.margin = '';
            // Restore margin on name container
            const flexParentIcon = avatar.parentElement;
            if (flexParentIcon && flexParentIcon.classList.contains('flex')) {
              const nameContainerIcon = flexParentIcon.querySelector('.grow, [class*="ml-"]');
              if (nameContainerIcon) {
                const marginClass = size.includes('12') ? 'ml-4' : size.includes('16') || size.includes('20') || size.includes('32') ? 'ml-6' : 'ml-3';
                if (!nameContainerIcon.classList.contains(marginClass)) {
                  nameContainerIcon.classList.add(marginClass);
                }
                nameContainerIcon.style.marginLeft = '';
              }
            }
            break;
          case 'initials':
            const initials = getInitials(name);
            const textSize = size.includes('32') ? 'text-lg' : size.includes('20') ? 'text-base' : size.includes('16') ? 'text-sm' : 'text-xs';
            avatar.innerHTML = `<span class="${textSize} font-semibold text-slate-700 dark:text-slate-300">${initials}</span>`;
            avatar.style.display = 'flex';
            avatar.style.width = '';
            avatar.style.margin = '';
            avatar.style.backgroundColor = 'rgb(226 232 240)';
            if (document.documentElement.classList.contains('dark')) {
              avatar.style.backgroundColor = 'rgb(51 65 85)';
            }
            // Restore margin on name container
            const flexParentInitials = avatar.parentElement;
            if (flexParentInitials && flexParentInitials.classList.contains('flex')) {
              const nameContainerInitials = flexParentInitials.querySelector('.grow, [class*="ml-"]');
              if (nameContainerInitials) {
                const marginClass = size.includes('12') ? 'ml-4' : size.includes('16') || size.includes('20') || size.includes('32') ? 'ml-6' : 'ml-3';
                if (!nameContainerInitials.classList.contains(marginClass)) {
                  nameContainerInitials.classList.add(marginClass);
                }
                nameContainerInitials.style.marginLeft = '';
              }
            }
            break;
        }
      });
      
      /**
       * SPECIAL HANDLING FOR STYLE 1
       * 
       * Style 1 uses the Testimonials component which has a different HTML structure.
       * This code handles finding and updating avatars in that component's output.
       * If you're using the Testimonials component elsewhere, this code will handle it.
       */
      if (sectionId === 'style-1' && avatars.length === 0) {
        console.log('Handling Style 1 with Testimonials component');
        const testimonialCards = section.querySelectorAll('[class*="flex"][class*="h-auto"]');
        console.log('Found testimonial cards:', testimonialCards.length);
        
        testimonialCards.forEach(card => {
          const imgContainer = card.querySelector('div[class*="rounded-full"]');
          if (!imgContainer) return;
          
          const img = imgContainer.querySelector('img');
          const nameEl = card.querySelector('p[class*="font-semibold"]');
          const name = nameEl?.textContent?.trim() || '';
          const imageSrc = img?.getAttribute('src') || '';
          const imageAlt = img?.getAttribute('alt') || '';
          
          // Add testimonial-avatar class if not present
          if (!imgContainer.classList.contains('testimonial-avatar')) {
            imgContainer.classList.add('testimonial-avatar');
          }
          
          imgContainer.className = 'testimonial-avatar h-10 w-10 rounded-full border border-slate-200 dark:border-slate-600 flex-shrink-0 flex items-center justify-center overflow-hidden';
          imgContainer.setAttribute('data-mode', mode);
          
          switch(mode) {
            case 'image':
              if (imageSrc) {
                imgContainer.innerHTML = `<img src="${imageSrc}" alt="${imageAlt || name}" class="h-10 w-10 object-cover" />`;
              } else {
                imgContainer.innerHTML = `<div class="h-10 w-10 bg-slate-200 dark:bg-slate-700 rounded-full"></div>`;
              }
              imgContainer.style.display = 'flex';
              imgContainer.style.width = '';
              imgContainer.style.margin = '';
              imgContainer.style.padding = '';
              // Restore margin on name container
              const nameContainerStyle1 = card.querySelector('.grow, [class*="ml-"]');
              if (nameContainerStyle1) {
                nameContainerStyle1.style.marginLeft = '';
                if (!nameContainerStyle1.classList.contains('ml-3') && !nameContainerStyle1.classList.contains('ml-4')) {
                  nameContainerStyle1.classList.add('ml-3');
                }
              }
              break;
            case 'none':
              // Hide avatar and remove it from layout flow completely
              imgContainer.style.display = 'none';
              imgContainer.style.width = '0';
              imgContainer.style.margin = '0';
              imgContainer.style.padding = '0';
              // Remove left margin from name/details container to align with testimonial text
              const nameContainerNoneStyle1 = card.querySelector('.grow, [class*="ml-"]');
              if (nameContainerNoneStyle1) {
                nameContainerNoneStyle1.classList.remove('ml-3', 'ml-4', 'ml-6');
                nameContainerNoneStyle1.style.marginLeft = '0';
              }
              break;
            case 'placeholder':
              imgContainer.innerHTML = `<div class="h-10 w-10 bg-gradient-to-br from-slate-300 to-slate-400 dark:from-slate-600 dark:to-slate-700 rounded-full"></div>`;
              imgContainer.style.display = 'flex';
              imgContainer.style.width = '';
              imgContainer.style.margin = '';
              // Restore margin on name container
              const nameContainerPlaceholderStyle1 = card.querySelector('.grow, [class*="ml-"]');
              if (nameContainerPlaceholderStyle1) {
                nameContainerPlaceholderStyle1.style.marginLeft = '';
                if (!nameContainerPlaceholderStyle1.classList.contains('ml-3') && !nameContainerPlaceholderStyle1.classList.contains('ml-4')) {
                  nameContainerPlaceholderStyle1.classList.add('ml-3');
                }
              }
              break;
            case 'icon':
              imgContainer.innerHTML = `<svg class="w-4 h-4 text-slate-500 dark:text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
              </svg>`;
              imgContainer.style.display = 'flex';
              imgContainer.style.width = '';
              imgContainer.style.margin = '';
              // Restore margin on name container
              const nameContainerIconStyle1 = card.querySelector('.grow, [class*="ml-"]');
              if (nameContainerIconStyle1) {
                nameContainerIconStyle1.style.marginLeft = '';
                if (!nameContainerIconStyle1.classList.contains('ml-3') && !nameContainerIconStyle1.classList.contains('ml-4')) {
                  nameContainerIconStyle1.classList.add('ml-3');
                }
              }
              break;
            case 'initials':
              const initials = getInitials(name);
              imgContainer.innerHTML = `<span class="text-xs font-semibold text-slate-700 dark:text-slate-300">${initials}</span>`;
              imgContainer.style.display = 'flex';
              imgContainer.style.width = '';
              imgContainer.style.margin = '';
              imgContainer.style.backgroundColor = 'rgb(226 232 240)';
              if (document.documentElement.classList.contains('dark')) {
                imgContainer.style.backgroundColor = 'rgb(51 65 85)';
              }
              // Restore margin on name container
              const nameContainerInitialsStyle1 = card.querySelector('.grow, [class*="ml-"]');
              if (nameContainerInitialsStyle1) {
                nameContainerInitialsStyle1.style.marginLeft = '';
                if (!nameContainerInitialsStyle1.classList.contains('ml-3') && !nameContainerInitialsStyle1.classList.contains('ml-4')) {
                  nameContainerInitialsStyle1.classList.add('ml-3');
                }
              }
              break;
          }
        });
      }
    }

    // Make updateAvatarDisplay available globally before DOMContentLoaded
    window.updateAvatarDisplay = updateAvatarDisplay;

    /**
     * INITIALIZE AVATAR TOGGLE BUTTONS
     * 
     * Sets up event listeners for all toggle buttons on page load.
     * Each button click:
     * 1. Updates the visual state of all buttons in that section (highlights active button)
     * 2. Calls updateAvatarDisplay() to change all avatars in that section
     * 
     * TO ADD TO YOUR OWN PAGE:
     * - Copy this entire DOMContentLoaded block
     * - Make sure your toggle buttons have class="avatar-toggle-btn"
     * - Ensure buttons have data-section and data-mode attributes
     */
    // Initialize avatar toggle buttons
    (function() {
      function initToggles() {
        const toggleButtons = document.querySelectorAll('.avatar-toggle-btn');
        
        console.log('Found toggle buttons:', toggleButtons.length);
        
        toggleButtons.forEach(btn => {
          // Use onclick to avoid duplicate listener issues
          btn.onclick = function(e) {
            e.preventDefault();
            e.stopPropagation();
            const section = this.getAttribute('data-section');
            const mode = this.getAttribute('data-mode');
            
            console.log('Toggle clicked:', section, mode);
            
            if (!section || !mode) {
              console.error('Missing data-section or data-mode attribute');
              return;
            }
            
            // Update button visual states - highlight active, dim others
            const allSectionButtons = document.querySelectorAll(`.avatar-toggle-btn[data-section="${section}"]`);
            allSectionButtons.forEach(b => {
              b.classList.remove('active', 'bg-primary', 'text-white');
              b.classList.add('bg-slate-200', 'dark:bg-slate-700', 'text-slate-700', 'dark:text-slate-300');
            });
            // Highlight the clicked button
            this.classList.add('active', 'bg-primary', 'text-white');
            this.classList.remove('bg-slate-200', 'dark:bg-slate-700', 'text-slate-700', 'dark:text-slate-300');
            
            // Update all avatars in this section to the selected mode
            if (typeof updateAvatarDisplay === 'function') {
              updateAvatarDisplay(section, mode);
            } else if (window.updateAvatarDisplay) {
              window.updateAvatarDisplay(section, mode);
            } else {
              console.error('updateAvatarDisplay function not found');
            }
          };
        });
      }

      // Initialize on DOM ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initToggles);
      } else {
        // DOM is already ready
        initToggles();
      }
    })();
  </script>
</Layout>
